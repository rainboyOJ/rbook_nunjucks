# rbook - æç®€é™æ€ä¹¦ç±ç”Ÿæˆå™¨

ä¸€ä¸ªåŸºäº Markdown + Nunjucks çš„é™æ€ä¹¦ç±ç½‘ç«™ç”Ÿæˆå™¨ï¼Œä¸“æ³¨äºç®—æ³•å’Œè®¡ç®—æœºç§‘å­¦å†…å®¹çš„å±•ç¤ºã€‚

## ç‰¹æ€§

- ğŸš€ **æç®€è®¾è®¡**ï¼šæœ€å°åŒ–ä¾èµ–ï¼Œä»…éœ€ markdownitã€nunjucksã€js-yaml
- ğŸ“ **Markdown æ”¯æŒ**ï¼šæ”¯æŒ FrontMatter å’Œä»£ç é«˜äº®
- ğŸ¨ **æ¨¡æ¿ç³»ç»Ÿ**ï¼šåŸºäº Nunjucks çš„çµæ´»æ¨¡æ¿å¼•æ“
- âš¡ **å¼€å‘æœåŠ¡å™¨**ï¼šå†…å­˜æ‡’æ¸²æŸ“ï¼Œå®æ—¶çƒ­é‡è½½
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šç§»åŠ¨ç«¯å‹å¥½çš„ç•Œé¢
- ğŸ”§ **é…ç½®ç®€å•**ï¼šYAML é…ç½®æ–‡ä»¶ï¼Œçº¦å®šä¼˜äºé…ç½®

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
sudo apt install -y python3 nodejs npm graphviz
npm install
```

### æ„å»ºé™æ€ç½‘ç«™

```bash
npm run build
# æˆ–
node bin/rbook.js build
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run serve
# æˆ–
node bin/rbook.js serve
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹æ•ˆæœ

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ bin/rbook.js          # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ builder.js        # æ„å»ºé€»è¾‘
â”‚   â”œâ”€â”€ parser.js         # Markdownè§£æ
â”‚   â””â”€â”€ server.js         # å¼€å‘æœåŠ¡å™¨
â”œâ”€â”€ book/                 # ä¹¦ç±å†…å®¹
â”‚   â”œâ”€â”€ index.md          # é¦–é¡µ
â”‚   â”œâ”€â”€ about.md          # å…³äºé¡µé¢
â”‚   â””â”€â”€ chapter*/index.md # ç« èŠ‚å†…å®¹
â”œâ”€â”€ theme/                # ä¸»é¢˜æ¨¡æ¿
â”‚   â”œâ”€â”€ *.njk            # é¡µé¢æ¨¡æ¿
â”‚   â”œâ”€â”€ partials/        # éƒ¨åˆ†æ¨¡æ¿
â”‚   â””â”€â”€ assets/          # é™æ€èµ„æº
â”œâ”€â”€ book.yaml            # é…ç½®æ–‡ä»¶
â””â”€â”€ dist/                # æ„å»ºè¾“å‡ºç›®å½•
```

## é…ç½®è¯´æ˜

ç¼–è¾‘ `book.yaml` æ–‡ä»¶é…ç½®ä¹¦ç±ä¿¡æ¯ï¼š

```yaml
title: æˆ‘çš„ä¹¦
author: å¼ ä¸‰
description: è¿™æ˜¯ä¸€æœ¬å…³äºç®—æ³•çš„ä¹¦

chapters:
  - title: ç¬¬ä¸€ç« 
    path: chapter1
  - title: ç¬¬äºŒç« 
    path: chapter2
    sections:
      - title: ç¬¬ä¸€èŠ‚
        path: chapter2-1
      - title: ç¬¬äºŒèŠ‚  
        path: chapter2-2
```

## å†…å®¹ç¼–å†™

### Markdown æ–‡ä»¶æ ¼å¼

æ¯ä¸ª Markdown æ–‡ä»¶å¯ä»¥åŒ…å« FrontMatterï¼š

```markdown
---
title: é¡µé¢æ ‡é¢˜
---

# ä¸»æ ‡é¢˜

è¿™é‡Œæ˜¯å†…å®¹...

```javascript
// ä»£ç ç¤ºä¾‹
function example() {
  return 'Hello World';
}
```

### é¡µé¢ç±»å‹

- **é¦–é¡µ**: `book/index.md` â†’ `/`
- **å…³äºé¡µé¢**: `book/about.md` â†’ `/about.html`
- **ç« èŠ‚é¡µé¢**: `book/{ç« èŠ‚}/index.md` â†’ `/{ç« èŠ‚}/`

## æ¨¡æ¿ç³»ç»Ÿ

### å¯ç”¨å˜é‡

æ‰€æœ‰æ¨¡æ¿å…±äº«ç»Ÿä¸€çš„æ•°æ®ç»“æ„ï¼š

```javascript
{
  site: {
    title: "ç½‘ç«™æ ‡é¢˜",
    author: "ä½œè€…å",
    description: "ç½‘ç«™æè¿°"
  },
  page: {
    title: "é¡µé¢æ ‡é¢˜",
    content: "HTMLå†…å®¹",
    type: "index|page|chapter",
    path: "æ–‡ä»¶è·¯å¾„"
  },
  nav: [
    {title: "é¦–é¡µ", path: "/", type: "index"},
    {title: "å…³äº", path: "/about.html", type: "page"},
    {title: "ç¬¬ä¸€ç« ", path: "/chapter1/", type: "chapter"}
  ]
}
```

### æ¨¡æ¿æ–‡ä»¶

- `layout.njk` - åŸºç¡€å¸ƒå±€
- `index.njk` - é¦–é¡µæ¨¡æ¿
- `page.njk` - å•é¡µæ¨¡æ¿
- `chapter.njk` - ç« èŠ‚æ¨¡æ¿

## å¼€å‘ç‰¹æ€§

### å†…å­˜æ‡’æ¸²æŸ“

å¼€å‘æœåŠ¡å™¨é‡‡ç”¨å†…å­˜ç¼“å­˜å’Œæ‡’æ¸²æŸ“æœºåˆ¶ï¼š
- é…ç½®å’Œèµ„æºåœ¨å¯åŠ¨æ—¶åŠ è½½åˆ°å†…å­˜
- é¡µé¢æŒ‰éœ€æ¸²æŸ“ï¼Œåªåœ¨è¯·æ±‚æ—¶ç”Ÿæˆ
- æ–‡ä»¶å˜åŒ–æ—¶æ™ºèƒ½æ¸…é™¤ç¼“å­˜
- é›¶ç£ç›˜IOï¼Œå¿«é€Ÿå“åº”

### æ–‡ä»¶ç›‘å¬

- **Markdown å˜åŒ–**ï¼šåªé‡æ–°æ¸²æŸ“å—å½±å“é¡µé¢
- **ä¸»é¢˜å˜åŒ–**ï¼šé‡æ–°åŠ è½½èµ„æºå¹¶æ¸…é™¤æ‰€æœ‰ç¼“å­˜
- **é…ç½®å˜åŒ–**ï¼šé‡æ–°åŠ è½½é…ç½®å¹¶æ¸…é™¤æ‰€æœ‰ç¼“å­˜

## éƒ¨ç½²

æ„å»ºåçš„é™æ€æ–‡ä»¶åœ¨ `dist/` ç›®å½•ï¼Œå¯éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡ï¼š

```bash
npm run build
# å°† dist/ ç›®å½•éƒ¨ç½²åˆ° GitHub Pagesã€Netlifyã€Vercel ç­‰
```

## ä½œä¸ºneovimçš„æ’ä»¶: ä»£ç ç‰‡æ®µ

```lua

```

## æŠ€æœ¯æ ˆ

- **markdownit**: Markdown è§£æ
- **nunjucks**: æ¨¡æ¿å¼•æ“
- **js-yaml**: YAML é…ç½®è§£æ
- **åŸç”Ÿ Node.js**: æ— é¢å¤–æ¡†æ¶ä¾èµ–

## å…¶ä»–æ–¹é¢çš„ä½¿ç”¨

- [å„ç§è„šæœ¬,é…ç½®](./dotfiles/readme.md)


## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/) åè®®ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒ Markdown + FrontMatter
- å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½
- å“åº”å¼ä¸»é¢˜è®¾è®¡