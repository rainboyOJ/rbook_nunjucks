这是一个非常经典的模型转化问题。这道题之所以是**二分图匹配**，核心在于如何透过“交换行”和“交换列”的操作，看透问题的本质。

我们可以通过以下三个逻辑步骤来理解为什么它是二分图：

### 1. 剖析“主对角线全黑”的本质

题目要求通过交换行和列，使得主对角线  全是黑色（也就是 ）。

这意味着我们需要在矩阵中找到  个黑色的格子，并且这  个格子必须满足：

* **每行恰好有一个**（最终被移动到了第  行）。
* **每列恰好有一个**（最终被移动到了第  列）。

只要我们能找到  个这样的“互不冲突”的黑点（即没有任何两个点在同一行或同一列），我们就一定能通过交换行和列，把它们移到主对角线上。

> **结论 1**：问题的目标等价于选出  个 ，且这些  所在的行互不相同，所在的列也互不相同。

### 2. 为什么“交换”操作不影响模型？

这是最让人困惑的地方。很多同学会去想如何模拟交换，但其实不需要。

* **行交换**：只是改变了行的**物理位置**（比如把第 3 行放到第 1 行），但**第 3 行的内容**（它在哪些列上有 1）是没有变的。
* **列交换**：只是改变了列的**物理位置**，但**第 j 列的内容**（它在哪些行上有 1）是没有变的。

**关键点**：如果初始矩阵中，第  行和第  列的交点是黑色（），那么无论你怎么交换其他行或列，**原来的“第  行”和原来的“第  列”之间的这个匹配关系永远存在**。你可以把它们移动到任何位置，但这个  依然属于“原第  行”和“原第  列”的结合。

### 3. 构建二分图模型

基于上面的分析，我们可以把“行”看作一边的集合，“列”看作另一边的集合：

* **左部节点（集合 U）**：代表矩阵的  行。
* **右部节点（集合 V）**：代表矩阵的  列。
* **边（Edges）**：如果矩阵中第  行第  列是黑色（），则在 **左部节点 ** 和 **右部节点 ** 之间连一条边。

**这条边的含义是**：第  行有能力去占据第  列的位置（或者说，第  行和第  列可以通过这个黑点匹配起来）。

### 4. 最终转化

回到我们的目标：选出  个黑点，行不重复，列不重复。

在二分图中，这对应着：

* 选出一些边。
* 每个左部节点（行）只能连一条边（行不重复）。
* 每个右部节点（列）只能连一条边（列不重复）。
* 一共要选出  条边。

**这正是二分图的“最大匹配”定义！**

如果这个二分图的**最大匹配数等于 **（也就是**完美匹配**），说明我们找到了  个独立的黑点覆盖了所有的行和列，那么输出 `Yes`。否则，输出 `No`。

---

### 举个例子（样例 2）

```
0 0 1
0 1 0
1 0 0

```

1. **左边节点（行）**：
2. **右边节点（列）**：
3. **连边**：
*  是 1  连边 
*  是 1  连边 
*  是 1  连边 



图中有边：。
这是一个大小为 3 的匹配。因为 ，且匹配数也是 3，所以是完美匹配。
答案：`Yes`。

### 总结

这道题是二分图，是因为它把**位置几何问题**抽象成了**资源分配问题**：

* **资源**：列（）
* **需求者**：行（）
* **可行关系**：如果 ，则行  可以使用列 。
* **目标**：让每一行都分配到一个唯一的列。
