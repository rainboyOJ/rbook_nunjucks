{% extends "layout.njk" %}

{% block content %}
<article class="home">
    <header class="home-header">
        <h1>{{ site.title }}</h1>
        <p class="description">{{ site.description }}</p>
        <p class="author">作者：{{ site.author }}</p>
    </header>
    
    {% include "partials/markdown-body.njk" %} 
    
    <section class="chapters-preview">
        <h2>目录</h2>
        <ul class="chapter-list">
        {% for chapter in chapters %}
            <li>
                <a href="{{ chapter.path }}/">{{ chapter.title }}</a>
                {% if chapter.sections %}
                <ul>
                    {% for section in chapter.sections %}
                    <li>
                        <a href="{{ chapter.path }}/{{ section.path }}/">{{ section.title }}</a>
                        {% if section.sections %}
                        <ul>
                            {% for subsection in section.sections %}
                            <li><a href="{{ chapter.path }}/{{ section.path }}/{{ subsection.path }}/">{{ subsection.title }}</a></li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    </section>
</article>
{% endblock %}