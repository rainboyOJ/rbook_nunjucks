---
id: "pair_number"
title: "配对问题"
date: 2025-12-20 09:23
toc: true
tags: ["枚举"]
categories: [""]
---

[[TOC]]



## 教学目标

- 公式$\sum a(i)$,$a(i)$:以$i$为结点的值是什么
- 本质++不重不漏++集合分类问题


## 题目: 黑白气球

有一排黑白气球,你可以随机选两个球,问有多少种方法选到颜色不同的球?

- 第一行表示有多个气球
- 0表示白色
- 1表示黑色


```
6
0 1 1 0 0 1
```

输出

```
9
```
代码

@include-code(./bloon, cpp)


## 解释

本质这是一个++不重不漏++的集合分类问题

先给每个气球进行编号

```
0 1 1 0 0 1
1 2 3 4 5 6
```

那么答案的$9$对气球如下:


| 编号| 对|
|--|--|
| 1| $(1,2)$|
| 2| $(1,3)$|
| 3| $(2,4)$|
| 4| $(3,4)$|
| 5| $(2,5)$|
| 6| $(3,5)$|
| 7| $(1,6)$|
| 8| $(4,6)$|
| 9| $(5,6)$|


### 证明这是一个集合问题:

原题目部我们: 1. 任何选一对 2. 且这一对的颜色不同

我们一步一步做,任选一对气球,可以得到集合$A = \{(1,2),{1,3},{2,3},{1,4},{2,4}, \cdots,(5,6)\}$这样的集合,然后去除集合$A$中颜色相同的一对气球,得到集合$B = \{(1,2), (1,3), (2,4), (3,4), (2,5), (3,5), (1,6), (4,6), (5,6) \}$,那么问题的答案就是集合$B$的基数(元素数量)


### 集合分类

如果我们可以把集合$B$++不重不漏++的分成多个子集合$b_i$,那么答案就是$\sum |b_i|$

显然按对数的结尾的数字,可以把集合$B$++不重不漏++的分成多个子集$b_i$.$b_i$表示结尾为$i$的元素形成的集合.例如$b_3 = \{(1,3)\}$.

证明:

- 不重: 显然以$i$为结尾的元素不可能和以$j$为结尾的元素在同一个集合
- 不漏: 任意一个元素一定会以$i \in [1,n]$为结尾



## 总结


!!! definition 定义: 配对问题

有条件的一对组合(任取两个元素)问题,我们称为对数类问题.

!!!


对数类问题的通常解法就是按结尾位置,把集合分类.关键在于如何快速的求取一个子集的数量.

对于对数类问题,对数问题的公式: ``\sum s(i)``

这里用到了**集合**与**分类加法原理**


## 题目2

在一个长n的**链式**的黑白气球,

1. 最大的配对数字和是那一对
2. 距离最远的是那一对那个

```
6
0 1 1 0 0 1
1 2 3 4 5 6
```

## 题目3: 环形问题

在一个长n的**环形**的黑白气球,

1. 最大的配对数字和是那一对
2. 距离最远的是那一对那个

```
6
0 1 1 0 0 1
1 2 3 4 5 6
```

## 练习题目

1.	noiopenjudge	ch0201-6184	找和为K的两个元素	
2.	luogu	P1311	[NOIP2011 提高组] 选择客栈	