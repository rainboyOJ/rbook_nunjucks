---
title: "表达式求值"
date: 2025-10-05 10:04
draf: true
toc: true
tags: [""]
categories: [""]
---


## 后缀表达式求值

## 中缀表达式转后缀

减法可以转成加法,除法可以转成乘法,所以只需要考虑: 加法,乘法,括号

思维方式: 特殊到一般

大脑🧠转换原则: 从左到右把数字写出,根据运算符号运算的先后顺序在合适的位置写入符合

1. `1+2+3+4+5` -> `1 2 + 3 + 4 + 5 +`
  - `1 2 3 4 5`
  - `1 2 + 3 4 5`
  - `1 2 + 3 + 4 5`
  - `1 2 + 3 + 4 + 5`
  - `1 2 + 3 + 4 + 5 +`
1. `1 + 2 x 3` -> `1 2 3 x +`
  - `1 2 3`
  - `1 2 3 x `
  - `1 2 3 x +`
1. `1+2+3+4x5` -> `1 2 + 3 + 4 5 x +`
  - `1 2 3 4 5`
  - `1 2 +  3 4 5`
  - `1 2 + 3 +  4 5`
  - `1 2 + 3 + 4 5 x `
  - `1 2 + 3 + 4 5 x +`
1. `1+2+3x4+5` -> `1 2 + 3 4 x + 5 +`
  - `1 2 3 4 5`
  - `1 2 + 3 4 5`
  - `1 2 + 3 4 x 5`
  - `1 2 + 3 4 x 5`
  - `1 2 + 3 4 x + 5`
  - `1 2 + 3 4 x + 5 +`

容易想到: `1 + 2 x 3`  因为 x 比 + 优先级别高,那么 x 在后缀里面应该先出现

递归的想: `......?i-1. ?i .......` ,当你遇到一个运算符`?`的时候,你要决定前一个符号`?i-1`那个先出现
`?i-1 >= ?i` 那么`?i-1` 应该先出现



增加括号

`)` 表示`()` 是一个独立的式子,现在栈内应更全部输出

于是得到最终的运算规则

```
1.
2.
3.
```